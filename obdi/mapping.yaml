prefixes:
    ov: http://open.vocab.org/terms/
    co: http://purl.org/co/
    idlab-fn: http://example.com/idlab/function/
    grel: http://users.ugent.be/~bjdmeest/function/grel.ttl#
    ex: http://example.com/

mappings:

  person:
    sources:
      - [/data/files/person.csv~csv]
    s: http://example.com/resources/Person/$(id)
    po:
    - [a, schema:Person]
    - [schema:name, $(name), xsd:string]
    - [ex:webpage, $(webpage)~iri]
    - [ov:twitter-id, "http://twitter.com/$(twitter)~iri"]
    - [schema:memberOf, $(organization), xsd:string]
    - [schema:image, $(photo)~iri]
    - [schema:description, $(biography), xsd:string]
    - [schema:email, $(email), xsd:string]
    - [schema:jobTitle, $(role), xsd:string]
    - [ex:linkedin, $(linkedin)~iri]
    - [ex:github, "http://github.com/$(github)~iri"]
    - p: ex:hasWrite
      o:
        - mapping: papers_people
          condition:
            function: equal
            parameters:
              - [str1, $(id)]
              - [str2, $(person_id)]
    - p: ex:hasDevelop
      o:
        - mapping: people_tools
          condition:
            function: equal
            parameters:
              - [str1, $(id)]
              - [str2, $(person_id)]
    - p: ex:hasWon
      o:
        - mapping: people_awards
          condition:
            function: equal
            parameters:
              - [str1, $(id)]
              - [str2, $(person_id)]



  paper:
    sources:
      - [/data/files/paper.csv~csv]
    s: http://example.com/resources/Article/$(id)
    po:
    - [a, schema:Article]
    - [schema:name, $(title), xsd:string]
#    - [schema:review, $(review)~iri]
#    - [http://example.com/paperType, $(type), xsd:string]
    - [ex:paperLink, $(paper_link), xsd:string]
    - [ex:description, $(description), xsd:string]
    - p: dcterms:creator
      o:
        - mapping: papers_people
          condition:
            function: equal
            parameters:
              - [str1, $(id)]
              - [str2, $(paper_id)]
    - p: schema:award
      o:
        - mapping: papers_awards
          condition:
            function: equal
            parameters:
              - [str1, $(id)]
              - [str2, $(paper_id)]
    - p: schema:CreativeWork
      o:
        - mapping: papers_tools
          condition:
            function: equal
            parameters:
              - [str1, $(id)]
              - [str2, $(paper_id)]              
  tool:
    sources:
      - [/data/files/tool.csv~csv]
    s: http://example.com/resources/Tools/$(id)
    po:
    - [a, ex:Software]
    - [schema:name, $(name), xsd:string]
    - [ex:repository, $(ghrepo), xsd:string]
    - [ex:zenodoDoi, $(zenodo), xsd:string]
    - [ex:description, $(description)~iri]
    - [ex:readmelink, $(raw_readme_link)~iri]
    - [schema:image, $(image_link)~iri]
    - p: schema:creator
      o:
        - mapping: people_tools
          condition:
            function: equal
            parameters:
              - [str1, $(id)]
              - [str2, $(tool_id)]
    - p: schema:Article
      o:
        - mapping: papers_tools
          condition:
            function: equal
            parameters:
              - [str1, $(id)]
              - [str2, $(tool_id)]
    - p: schema:award
      o:
        - mapping: awards_tools
          condition:
            function: equal
            parameters:
              - [str1, $(id)]
              - [str2, $(tool_id)]

  award:
    sources:
      - [/data/files/award.csv~csv]
    s: http://example.com/resources/Award/$(id)
    po:
    - [a, schema:award]
    - [ex:awardName, $(name), xsd:date]
    - [ex:awardDescription,$(description), xsd:date]
    - [ex:Date, $(date), xsd:date]
    - [ex:awardLink, $(award_link)~iri]
    - p: schema:Person
      o:
        - mapping: people_awards
          condition:
            function: equal
            parameters:
              - [str1, $(id)]
              - [str2, $(award_id)]
    - p: schema:Article
      o:
        - mapping: papers_awards
          condition:
            function: equal
            parameters:
              - [str1, $(id)]
              - [str2, $(award_id)]
    - p: schema:CreativeWork
      o:
        - mapping: awards_tools
          condition:
            function: equal
            parameters:
                - [str1, $(id)]
                - [str2, $(award_id)]   
                                
  papers_people:
    sources:
      - [/data/files/papers_people.csv~csv]
    s: ex:paperperson/$(paper_id)_$(person_id)
    po:
    - [a, ex:relation]
    - p: schema:Article
      o:
      - mapping: paper
        condition:
          function: equal
          parameters:
            - [str1, $(paper_id)]
            - [str2, $(id)]
    - p: schema:Person
      o:
      - mapping: person
        condition:
          function: equal
          parameters:
            - [str1, $(person_id)]
            - [str2, $(id)]

  papers_awards:
    sources:
      - [/data/files/papers_awards.csv~csv]
    s: ex:paperaward/$(paper_id)_$(award_id)
    po:
    - [a, ex:relation]
    - p: schema:Article
      o:
      - mapping: paper
        condition:
          function: equal
          parameters:
            - [str1, $(paper_id)]
            - [str2, $(id)]
    - p: schema:award
      o:
      - mapping: award
        condition:
          function: equal
          parameters:
            - [str1, $(award_id)]
            - [str2, $(id)]

  papers_tools:
    sources:
      - [/data/files/papers_tools.csv~csv]
    s: ex:papertool/$(paper_id)_$(tool_id)
    po:
    - [a, ex:relation]
    - p: schema:Article
      o:
      - mapping: paper
        condition:
          function: equal
          parameters:
            - [str1, $(paper_id)]
            - [str2, $(id)]
    - p: schema:CreativeWork
      o:
      - mapping: tool
        condition:
          function: equal
          parameters:
            - [str1, $(tool_id)]
            - [str2, $(id)]           

  awards_tools:
    sources:
      - [/data/files/awards_tools.csv~csv]
    s: ex:awardtool/$(award_id)_$(tool_id)
    po:
    - [a, ex:relation]
    - p: schema:award
      o:
      - mapping: award
        condition:
          function: equal
          parameters:
            - [str1, $(award_id)]
            - [str2, $(id)]
    - p: schema:CreativeWork
      o:
      - mapping: tool
        condition:
          function: equal
          parameters:
            - [str1, $(tool_id)]
            - [str2, $(id)]

  people_tools:
    sources:
      - [/data/files/people_tools.csv~csv]
    s: ex:peopletool/$(person_id)_$(tool_id)
    po:
    - [a, ex:relation]
    - p: schema:Person
      o:
      - mapping: person
        condition:
          function: equal
          parameters:
            - [str1, $(person_id)]
            - [str2, $(id)]
    - p: schema:CreativeWork
      o:
      - mapping: tool
        condition:
          function: equal
          parameters:
            - [str1, $(tool_id)]
            - [str2, $(id)]  
  
  people_awards:
    sources:
      - [/data/files/people_awards.csv~csv]
    s: ex:peopleaward/$(person_id)_$(award_id)
    po:
    - [a, ex:relation]
    - p: schema:Person
      o:
      - mapping: person
        condition:
          function: equal
          parameters:
            - [str1, $(person_id)]
            - [str2, $(id)]
    - p: schema:award
      o:
      - mapping: award
        condition:
          function: equal
          parameters:
            - [str1, $(award_id)]
            - [str2, $(id)]  